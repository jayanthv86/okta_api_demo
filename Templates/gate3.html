{% extends "base.html" %}

{% load static %}

{% block head_js %}
<script>
    var srv_access_token = '{{ request.session.access_token|safe }}';
    var srv_companyName = '{{ request.session.companyName|safe}}';
</script>
{% endblock %}


{% block content %}
<div class="container">
    <div class="row">
        <p></p>
    </div>
    <div class="row">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-md-4">
                        <div class="table table-striped table-hover">
                            <button class="btn btn-primary" id="addUser-button" type="button" onclick="displayProfile()">Edit/View Profile</button>
                        </div>
                    </div>
                </div>
                {% if 'profile_stage' in request.session and request.session.profile_stage >= 0 %}
                <div class="row">
                    <div class="col-md-12">
                        <h6>Because of your limited profile info, your view is limited. Please fill out more info to view more.</h6>
                    </div>
                </div>
                {% endif %}
            </div>
            <div class="panel-body">
              <div id="vueapp-profile" style="display:none">
                <table class = "table table-striped table-hover">
                    <tbody id="all_users">
                        <tr>
                            <th>First Name:</th>
                            <td><input type="text" id="firstName" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Last Name:</th>
                            <td><input type="text" id="lastName" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Email</th>
                            <td><input type="text" id="email" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Honorific Prefix</th>
                            <td><input type="text" id="honorificPrefix" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Title</th>
                            <td><input type="text" id="title" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>NickName</th>
                            <td><input type="text" id="nickName" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>LinkedIn URL</th>
                            <td><input type="text" id="linkedinUrl" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Mobile Phone</th>
                            <td><input type="text" id="mobilePhone" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Primary Phone</th>
                            <td><input type="text" id="primaryPhone" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Street Address</th>
                            <td><input type="text" id="streetAddress" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>City</th>
                            <td><input type="text" id="city" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>State</th>
                            <td><input type="text" id="state" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Country</th>
                            <td><input type="text" id="country" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Zip Code</th>
                            <td><input type="text" id="zipCode" class="form-control" value="" /></td>
                          </tr>
                         {% if 'profile_stage' in request.session and request.session.profile_stage >= 3 %}
                          <tr>
                            <th>Preferred Language</th>
                            <td><input type="text" id="preferredLanguage" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Favorite Imaging software</th>
                            <td><input type="text" id="preferredImagingSoftware" class="form-control" value="" /></td>
                          </tr>
                          <tr>
                            <th>Favorite Font styles</th>
                            <td><input type="text" id="favoriteFontStyle" class="form-control" value="" /></td>
                          </tr>
                        {% else %}
                          <label class="radio">Confirm your account?</label>
                          <input type="checkbox" id="activate"  v-model="activate" />Yes
                            <div class="col-sm-12">
                                <a class="btn btn-success" onclick="updateUser(document.getElementById('firstName').value, document.getElementById('lastName').value, document.getElementById('email').value, document.getElementById('honorificPrefix').value, document.getElementById('title').value, document.getElementById('nickName').value, document.getElementById('linkedinUrl').value, document.getElementById('mobilePhone').value, document.getElementById('primaryPhone').value, document.getElementById('streetAddress').value, document.getElementById('city').value, document.getElementById('state').value, document.getElementById('country').value, document.getElementById('zipCode').value, null, null, null, document.getElementById('activate').checked, '3')">Submit</a>
                            </div>
                        {% endif %}
                    </tbody>
                </table>
              </div>
            </div>
            <div class="panel-body">
                <div style="display:none;">
                <!-- our signup form ===================== -->
                <div class="row">
                  <div class="col-sm-12">
                    <div class="form-group">
                      <label for="firstName_up">First Name</label>
                      <input type="text" id="firstName_up" class="form-control" contentEditable=true />
                        <label for="lastName_up">Last Name</label>
                      <input type="text" id="lastName_up" class="form-control"  />
                        <label for="email_up">Email</label>
                      <input type="text" id="email_up" class="form-control" />
                        <label for="role_up">Role</label>
                      <input type="text" id="role_up" class="form-control"  />
                        <label class="radio">Deactivate?</label>
                      <input type="checkbox" id="deactivate" >Yes
                        <label id="resend_email_label" class="radio">Resend activation email?</label>
                      <input type="checkbox" id="resend_email"   style="display:none;">Yes
                        <input type="text" id="user_id_up" class="form-control"  style="display:none;"/>
                        <input type="text" id="companyName_up" class="form-control"  style="display:none;"/>
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <a class="btn btn-success" onclick="updateUser(document.getElementById('firstName_up').value, document.getElementById('lastName_up').value, document.getElementById('email_up').value, document.getElementById('role_up').value, document.getElementById('companyName_up').value, document.getElementById('user_id_up').value, document.getElementById('deactivate').checked, document.getElementById('resend_email').checked)">Update</a>
                  </div>
                </div> <!-- / row -->
                </div>
              </div>
            </div>
    </div>
</div>
{% endblock %}

{% load static %}
{% block page_js %}
<script>
    var data = [];
    var getUsersapp = new Vue({
        delimiters: ['[[', ']]'],
        el: '#vueapp-profile',
        data: {
            allUsers: data
        }
    });

    var getUserapp = new Vue({
        el: '#vueapp-user',
        data: {
            allUser: data
        }
    });
</script>
<script src="{% static 'js/list-users.js' %}" type="text/javascript"></script>
<script id="theScript">{{ js|safe }}</script>
{% endblock %}
